{"ast":null,"code":"import _slicedToArray from\"/Users/danielyun/Desktop/s/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Link}from'react-router-dom';import Stock_info from'./Stock_info';import News from'./News';import{createPortal}from'react-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var keys=require(\"../keys\");var g_symbol=\"\";//Handle when user selects one of the symbols listed\nfunction handle(setClicked,symbol){setClicked(true);document.getElementById(\"dropdown_menu\").style.display=\"none\";document.getElementById(\"search\").value=symbol;g_symbol=symbol;}function Symbols_dropdown(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),clicked=_useState4[0],setClicked=_useState4[1];useEffect(function(){fetch(\"\".concat(keys.url_encrypt.key,\"/api/symbols_like/\").concat(props.data)).then(function(response){return response.json();}).then(function(data){return setData(data.data);}).catch(function(err){return console.log(err);});},[props.data]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[clicked&&g_symbol!=\"\"?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/createPortal(/*#__PURE__*/_jsx(Stock_info,{data:g_symbol}),document.getElementById(\"main_stock_page\")),/*#__PURE__*/createPortal(/*#__PURE__*/_jsx(News,{data:g_symbol}),document.getElementById(\"main_news_page\"))]}):null,/*#__PURE__*/_jsx(\"div\",{className:\"list-group\",children:data.length>0?data.map(function(instrument,i){var symbol=instrument.symbol;var name=instrument.instrument_name;return/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/\"},className:\"list-group-item list-group-item-action\",onClick:function onClick(){return handle(setClicked,symbol);},children:[/*#__PURE__*/_jsx(\"b\",{children:symbol}),/*#__PURE__*/_jsx(\"p\",{className:\"instrument_name\",children:name})]},i);}):/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(\"i\",{children:\"No results\"})})})]});}export default Symbols_dropdown;","map":{"version":3,"names":["useState","useEffect","Link","Stock_info","News","createPortal","jsx","_jsx","jsxs","_jsxs","keys","require","g_symbol","handle","setClicked","symbol","document","getElementById","style","display","value","Symbols_dropdown","props","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","clicked","fetch","concat","url_encrypt","key","then","response","json","catch","err","console","log","className","children","length","map","instrument","i","name","instrument_name","to","pathname","onClick"],"sources":["/Users/danielyun/Desktop/s/client/src/components/Symbols_dropdown.js"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport Stock_info from './Stock_info';\nimport News from './News';\nimport {createPortal} from 'react-dom';\nconst keys = require(\"../keys\");\n\nvar g_symbol = \"\";\n\n//Handle when user selects one of the symbols listed\nfunction handle(setClicked, symbol) {\n    setClicked(true); \n    document.getElementById(\"dropdown_menu\").style.display = \"none\";\n    document.getElementById(\"search\").value = symbol;\n    g_symbol = symbol;\n}\n\nfunction Symbols_dropdown(props) {\n    \n    const [data, setData] = useState([]);\n    var [clicked, setClicked] = useState(false);\n     \n    useEffect(() => {\n        fetch(`${keys.url_encrypt.key}/api/symbols_like/${props.data}`)\n        .then(response => response.json())\n        .then(data => setData(data.data))\n        .catch(err => console.log(err));\n    }, [props.data]);\n\n    return (\n        <div className=\"App\">\n\n            {/* If user clicked on symbol */}\n            {(clicked && g_symbol != \"\") ? \n                (\n                    <div>\n                        {/* For stock info */}\n                        {createPortal(\n                            <Stock_info data={g_symbol}/>,\n                            document.getElementById(\"main_stock_page\")\n                        )}\n\n                        {/* For stock news */}\n                        {createPortal(\n                            <News data={g_symbol}/>,\n                            document.getElementById(\"main_news_page\")\n                        )}\n                    </div>\n                ) : null\n            }\n\n            {/* List out all the symbols like what the user searched */}\n            <div className='list-group'>\n                {data.length > 0 ? \n                data.map((instrument,i) => {\n                    const symbol = instrument.symbol;\n                    const name = instrument.instrument_name;\n\n                    return (\n                        <Link to={{\n                            pathname: \"/\"\n                          }} key={i} className=\"list-group-item list-group-item-action\" onClick={() => handle(setClicked, symbol)}>\n                                <b>{symbol}</b> \n                                <p className=\"instrument_name\">{name}</p>\n                          </Link>\n                    )})\n                    : <h5><i>No results</i></h5>\n                }\n            </div>      \n        </div>\n        \n    )\n}\n\nexport default Symbols_dropdown;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}