{"ast":null,"code":"import _slicedToArray from\"/Users/danielyun/Desktop/s/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import Purchase_form from'./Purchase_form';import Stock_chart from'./Stock_chart';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var keys=require(\"../keys\");function Stock_info(props){document.getElementById(\"stock_loading\").style.display=\"none\";var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){if(props.data!=\"\"&&typeof props!=='undefined'){fetch(\"\".concat(keys.url_encrypt.key,\"/api/stock_info/\").concat(props.data)).then(function(response){return response.json();}).then(function(data){console.log(\"D\"+data.data);setData(data.data);}).catch(function(err){return console.log(err);});}else console.log(\"STOP\");},[]);if(data!=null){var current_price=Number(data.current_price).toFixed(2);var description=data.description;var symbol=data.symbol;var name=data.name;var change=Number(data.change).toFixed(2);var percent_change=Number(data.percent_change).toFixed(2);var exchange=data.exchange;var history=data.history;var arrow=change>0?\"↑\":\"↓\";var arrow_class=change>0?\"positive_arrow\":\"negative_arrow\";//Values for history chart\nvar history_props={title:symbol,dates:history.dates,closing_prices:history.close_prices};return/*#__PURE__*/_jsxs(\"div\",{className:\"stock_details\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"stock_title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(\"strong\",{children:name})}),/*#__PURE__*/_jsx(\"h6\",{children:/*#__PURE__*/_jsxs(\"i\",{children:[\"(\",exchange,\": \",symbol,\")\"]})}),/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"$\",current_price]})}),/*#__PURE__*/_jsxs(\"b\",{className:arrow_class,children:[arrow,\" $\",change,\" (\",percent_change,\"%)\"]}),/*#__PURE__*/_jsx(Purchase_form,{price:current_price,name:name,symbol:symbol})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"stock_description\",children:/*#__PURE__*/_jsx(\"h5\",{children:description})}),/*#__PURE__*/_jsx(\"div\",{className:\"stock_chart\",children:history==='Company History Unavailable'||JSON.stringify(history)==='{}'?/*#__PURE__*/_jsx(\"h5\",{children:\"Company History Unavailable\"}):/*#__PURE__*/_jsx(\"div\",{id:\"chartContainer\",children:/*#__PURE__*/_jsx(Stock_chart,{data:history_props})})})]});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"stock_loading\",children:/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"...\"})})});}}export default Stock_info;","map":{"version":3,"names":["useState","useEffect","Purchase_form","Stock_chart","jsx","_jsx","jsxs","_jsxs","keys","require","Stock_info","props","document","getElementById","style","display","_useState","_useState2","_slicedToArray","data","setData","fetch","concat","url_encrypt","key","then","response","json","console","log","catch","err","current_price","Number","toFixed","description","symbol","name","change","percent_change","exchange","history","arrow","arrow_class","history_props","title","dates","closing_prices","close_prices","className","children","price","JSON","stringify","id"],"sources":["/Users/danielyun/Desktop/s/client/src/components/Stock_info.js"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport Purchase_form from './Purchase_form';\nimport Stock_chart from './Stock_chart';\nconst keys = require(\"../keys\");\n\nfunction Stock_info(props) {\n    document.getElementById(\"stock_loading\").style.display = \"none\";\n    \n    const [data, setData] = useState(null);\n    useEffect(() => {\n        if(props.data != \"\" && typeof(props) !== 'undefined') \n        {\n            fetch(`${keys.url_encrypt.key}/api/stock_info/${props.data}`)\n            .then(response => response.json())\n            .then(data => {console.log(\"D\" + data.data); setData(data.data)})\n            .catch(err => console.log(err));\n        }\n        else\n            console.log(\"STOP\")\n    }, [])\n    \n    if(data != null)\n    {\n        const current_price = Number(data.current_price).toFixed(2);\n        const description = data.description;\n        const symbol = data.symbol;\n        const name = data.name;\n        const change = Number(data.change).toFixed(2);\n        const percent_change = Number(data.percent_change).toFixed(2);\n        const exchange = data.exchange;\n        const history = data.history;\n        const arrow = change > 0 ? \"↑\" : \"↓\";\n        const arrow_class = change > 0 ? \"positive_arrow\" : \"negative_arrow\";\n        \n        //Values for history chart\n        const history_props = {\n            title: symbol,\n            dates: history.dates,\n            closing_prices: history.close_prices\n        };\n\n        return (\n            <div className=\"stock_details\">\n                <br />\n                <div className=\"stock_title\">\n\n                    {/* Company name and price */}\n                    <h2><strong>{name}</strong></h2>\n                    <h6><i>({exchange}: {symbol})</i></h6>\n                    <b><h3>${current_price}</h3></b>\n                    <b className={arrow_class}>{arrow} ${change} ({percent_change}%)</b>\n                    <Purchase_form price={current_price} name={name} symbol={symbol}/>\n\n                </div>\n                <br />\n                <br />\n\n                {/* Company Summary */}\n                <div className='stock_description'>\n                    <h5>{description}</h5>\n                </div>\n\n                {/* Stock chart */}\n                <div className=\"stock_chart\">\n                    {(history === 'Company History Unavailable' || JSON.stringify(history) === '{}') \n                        ? <h5>Company History Unavailable</h5> \n                        : \n                        <div id=\"chartContainer\">\n                            <Stock_chart data={history_props}/>\n                        </div>\n                    }\n                </div>\n            </div>\n        )\n    }\n    else\n    {\n        return (\n            <div className=\"stock_loading\">\n                <h1><b>...</b></h1>\n            </div>\n        )\n    }\n    \n}\n\nexport default Stock_info;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}