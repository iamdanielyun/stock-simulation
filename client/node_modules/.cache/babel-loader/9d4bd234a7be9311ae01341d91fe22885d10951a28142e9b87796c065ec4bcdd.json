{"ast":null,"code":"import _slicedToArray from\"/Users/danielyun/Desktop/s/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useNavigate}from\"react-router-dom\";import{useState}from'react';import keys from\"../keys\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Deposit_withdraw_form(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),msg=_useState2[0],setMsg=_useState2[1];function handleSubmit(e){e.preventDefault();var option=document.getElementById(\"deposit_option\").checked?\"deposit\":\"withdraw\";var amount=document.getElementById(\"action_amount\").value;var password=document.getElementById(\"password\").value;if(amount<=0||amount==\"\")setMsg(\"Please enter a valid amount\");else{fetch(\"\".concat(keys.url_encrypt.key,\"/auth/d_w\"),{method:\"POST\",body:JSON.stringify({option:option,amount:amount,password:password}),headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(data){setMsg(data.message);if(data.message===\"success\"){navigate(\"/profile\");window.location.reload(true);}}).catch(function(err){return console.log(err);});}}return/*#__PURE__*/_jsx(\"div\",{className:\"deposit_form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"radio_option\",id:\"deposit_option\",value:\"deposit\",defaultChecked:true}),\"Deposit\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"radio_option\",id:\"withdraw_option\",value:\"withdraw\"}),\"Withdraw\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",step:\".01\",className:\"form-control\",id:\"action_amount\",placeholder:\"e.g. 56.42\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",placeholder:\"Enter password\"})}),msg!=\"\"&&msg!=\"success\"?/*#__PURE__*/_jsxs(\"div\",{className:\"error_msg\",children:[\"*\",msg,\"*\"]}):null,/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"br\",{})]})});}export default Deposit_withdraw_form;","map":{"version":3,"names":["useNavigate","useState","keys","jsx","_jsx","jsxs","_jsxs","Deposit_withdraw_form","navigate","_useState","_useState2","_slicedToArray","msg","setMsg","handleSubmit","e","preventDefault","option","document","getElementById","checked","amount","value","password","fetch","concat","url_encrypt","key","method","body","JSON","stringify","headers","then","response","json","data","message","window","location","reload","catch","err","console","log","className","children","onSubmit","type","name","id","defaultChecked","min","step","placeholder"],"sources":["/Users/danielyun/Desktop/s/client/src/components/Deposit_withdraw_form.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport {useState} from 'react';\nimport keys from \"../keys\";\n\nfunction Deposit_withdraw_form() {\n\n    const navigate = useNavigate();\n    const [msg, setMsg] = useState(\"\");\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        const option = document.getElementById(\"deposit_option\").checked ? \"deposit\" : \"withdraw\";\n        const amount = document.getElementById(\"action_amount\").value;\n        const password = document.getElementById(\"password\").value;\n\n        if(amount <= 0 || amount == \"\")\n            setMsg(\"Please enter a valid amount\");\n        else\n        {\n            fetch(`${keys.url_encrypt.key}/auth/d_w`, {\n                method: \"POST\",\n                body: JSON.stringify({\n                    option: option,\n                    amount: amount,\n                    password: password,\n                }),\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                setMsg(data.message);\n    \n                if(data.message === \"success\")\n                {\n                    navigate(\"/profile\");\n                    window.location.reload(true);      \n                }\n            })\n            .catch(err => console.log(err));\n        }\n    }\n    return (\n        <div className=\"deposit_form\">\n            <form onSubmit={(e) => handleSubmit(e)}>\n                <div className=\"form-check\">\n                    <input className=\"form-check-input\" type=\"radio\" name=\"radio_option\" id=\"deposit_option\" value=\"deposit\" defaultChecked></input>\n                    Deposit\n                </div>\n                <div className=\"form-check\">\n                    <input className=\"form-check-input\" type=\"radio\" name=\"radio_option\" id=\"withdraw_option\" value=\"withdraw\"></input>\n                    Withdraw\n                </div>\n                <div className=\"form-group\">\n                    <input type=\"number\" min=\"1\" step=\".01\" className=\"form-control\" id=\"action_amount\" placeholder=\"e.g. 56.42\"></input>\n                </div>\n                <div className=\"form-group\">\n                    <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"Enter password\"></input>\n                </div>\n                {\n                    msg != \"\" && msg != \"success\"? \n                        <div className=\"error_msg\">\n                            *{msg}*\n                        </div>\n                    : null\n                }\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button><br />\n            </form>\n        </div>\n    )\n}\n\nexport default Deposit_withdraw_form;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}