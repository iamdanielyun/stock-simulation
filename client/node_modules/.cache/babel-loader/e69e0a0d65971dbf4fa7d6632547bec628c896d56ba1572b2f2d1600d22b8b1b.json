{"ast":null,"code":"import _slicedToArray from\"/Users/danielyun/Desktop/s/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useNavigate}from\"react-router-dom\";import login_icon from'../../icons/login_icon.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var keys=require('../../keys');function Register(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),msg=_useState2[0],setMsg=_useState2[1];function handleSubmit(e){e.preventDefault();var username=document.getElementById(\"username\").value;var password=document.getElementById(\"password\").value;var confirmation=document.getElementById(\"confirmation\").value;fetch(\"\".concat(keys.url_encrypt.key,\"/auth/register\"),{method:\"POST\",body:JSON.stringify({username:username,password:password,confirmation:confirmation}),headers:{\"Content-Type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(data){console.log(data.message);if(data.status===201){navigate(\"/\");window.location.reload(true);}else{setMsg(data.message);navigate(\"/register\");}}).catch(function(err){return console.log(err);});}return/*#__PURE__*/_jsxs(\"div\",{className:\"login_page\",children:[/*#__PURE__*/_jsx(\"img\",{src:login_icon,className:\"App-logo\",alt:\"logo\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},className:\"login_form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",id:\"username\",\"aria-describedby\":\"emailHelp\",placeholder:\"Username\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",placeholder:\"Password\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"confirmation\",placeholder:\"Confirm Password\"})}),msg!=\"\"?/*#__PURE__*/_jsx(\"div\",{className:\"error_msg\",children:/*#__PURE__*/_jsxs(\"i\",{children:[\"*\",msg,\"*\"]})}):null,/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Register\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Already have an account? Log in\"})]})]});}export default Register;","map":{"version":3,"names":["useState","useEffect","useNavigate","login_icon","jsx","_jsx","jsxs","_jsxs","keys","require","Register","navigate","_useState","_useState2","_slicedToArray","msg","setMsg","handleSubmit","e","preventDefault","username","document","getElementById","value","password","confirmation","fetch","concat","url_encrypt","key","method","body","JSON","stringify","headers","then","response","json","data","console","log","message","status","window","location","reload","catch","err","className","children","src","alt","onSubmit","type","id","placeholder","href"],"sources":["/Users/danielyun/Desktop/s/client/src/components/auth/Register.js"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport login_icon from '../../icons/login_icon.png';\nconst keys = require('../../keys');\n\nfunction Register() {\n\n    const navigate = useNavigate();\n    const [msg, setMsg] = useState(\"\");\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        const username = document.getElementById(\"username\").value;\n        const password = document.getElementById(\"password\").value;\n        const confirmation = document.getElementById(\"confirmation\").value;\n\n        fetch(`${keys.url_encrypt.key}/auth/register`, {\n            method: \"POST\",\n            body: JSON.stringify({\n                username: username,\n                password: password,\n                confirmation: confirmation\n            }),\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            console.log(data.message);\n\n            if(data.status === 201) {\n                navigate(\"/\");\n                window.location.reload(true);   \n            }\n            else {\n                setMsg(data.message);\n                navigate(\"/register\");\n            }\n        })\n        .catch(err => console.log(err));\n    }\n\n    return (\n        <div className=\"login_page\">\n            <img src={login_icon} className=\"App-logo\" alt=\"logo\" />\n            <form onSubmit={(e) => handleSubmit(e)} className=\"login_form\">\n                <div className=\"form-group\">\n                    <input type=\"input\" className=\"form-control\" id=\"username\" aria-describedby=\"emailHelp\" placeholder=\"Username\"></input>\n                </div>\n                <div className=\"form-group\">\n                    <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"Password\"></input>\n                </div>\n                <div className=\"form-group\">\n                    <input type=\"password\" className=\"form-control\" id=\"confirmation\" placeholder=\"Confirm Password\"></input>\n                </div>\n                {msg != \"\" ? \n                <div className=\"error_msg\">\n                    <i>*{msg}*</i>\n                </div>\n                : null\n                }\n                <button type=\"submit\" className=\"btn btn-primary\">Register</button><br />\n                <a href='/login'>Already have an account? Log in</a>\n            </form>\n        </div>\n    )\n}\n\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}