{"ast":null,"code":"var _jsxFileName = \"/Users/danielyun/Desktop/stock-simulation-main/client/src/components/Profile.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport Deposit_withdraw_form from './Deposit_withdraw_form';\nimport Sell from './Sell';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst keys = require(\"../keys\");\nfunction Profile() {\n  _s();\n  const [result, setResult] = useState(null);\n  useEffect(() => {\n    fetch(`${keys.url_encrypt.key}/auth/profile`).then(response => response.json()).then(data => {\n      console.log(data);\n      setResult(data);\n    }).catch(err => console.log(err));\n  }, []);\n  if (result != null) {\n    const user = result.user ? result.user : \"none\";\n    const cash = typeof result.cash == \"none\" ? 0 : Number(result.cash).toFixed(2);\n    const stock_symbols = typeof result.stock_symbols === \"undefined\" ? \"No stocks yet\" : result.stock_symbols;\n    const all_stocks = typeof result.stocks === \"undefined\" ? \"No stocks yet\" : result.stocks;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile_page\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Hello, \", /*#__PURE__*/_jsxDEV(\"i\", {\n          children: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cash\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"$\", cash]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Deposit_withdraw_form, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"investments\",\n        children: stock_symbols.length === 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Start trading today!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 51\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group list-group-flush\",\n          children: stock_symbols.map(stock => {\n            const symbol = stock.symbol;\n            const company = stock.company;\n            const count = stock.count;\n            var total_purchased_price = 0;\n\n            //Get the total amount spent on this stock\n            all_stocks.map(obj => {\n              if (obj.symbol === symbol) {\n                total_purchased_price += Number(obj.price_purchased);\n              }\n            });\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-group-item bg-transparent text-white border-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"stock_display\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      children: symbol\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 58,\n                      columnNumber: 56\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 58,\n                    columnNumber: 52\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 49\n                }, this), \" \\xA0\\xA0 x\", count]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(Sell, {\n                before: total_purchased_price,\n                symbol: symbol,\n                shares: count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 41\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile_page\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Please login again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this);\n  }\n}\n_s(Profile, \"otsdU8867Nll1OjDzAJiWNisW5I=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["useState","useEffect","Deposit_withdraw_form","Sell","jsxDEV","_jsxDEV","keys","require","Profile","_s","result","setResult","fetch","url_encrypt","key","then","response","json","data","console","log","catch","err","user","cash","Number","toFixed","stock_symbols","all_stocks","stocks","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","stock","symbol","company","count","total_purchased_price","obj","price_purchased","before","shares","_c","$RefreshReg$"],"sources":["/Users/danielyun/Desktop/stock-simulation-main/client/src/components/Profile.js"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport Deposit_withdraw_form from './Deposit_withdraw_form';\nimport Sell from './Sell';\nconst keys = require(\"../keys\");\n\nfunction Profile() {\n\n    const [result, setResult] = useState(null);\n\n    useEffect(() => {\n        fetch(`${keys.url_encrypt.key}/auth/profile`)\n        .then(response => response.json())\n        .then(data => {console.log(data); setResult(data)})\n        .catch(err => console.log(err));\n    }, [])\n\n    if(result != null)\n    {\n        const user = result.user ? result.user : \"none\";\n        const cash = typeof(result.cash) == \"none\" ? 0 : Number(result.cash).toFixed(2);\n        const stock_symbols = typeof(result.stock_symbols) === \"undefined\" ? \"No stocks yet\" : result.stock_symbols;\n        const all_stocks = typeof(result.stocks) === \"undefined\" ? \"No stocks yet\" : result.stocks;\n\n        return (\n            <div className=\"profile_page\">\n                <br />\n                <h3>Hello, <i>{user}</i></h3>\n                \n                <div className=\"cash\">\n                    <h3>${cash}</h3>\n                    <br />\n                    <Deposit_withdraw_form />\n                </div>\n               \n                <div className=\"investments\">\n\n                    {stock_symbols.length === 0 ? <h2>Start trading today!</h2> : \n                    \n                        <ul className=\"list-group list-group-flush\">\n                            {\n                                stock_symbols.map(stock => {\n                                    const symbol = stock.symbol;\n                                    const company = stock.company;\n                                    const count = stock.count;\n                                    var total_purchased_price = 0;\n\n                                    //Get the total amount spent on this stock\n                                    all_stocks.map(obj => {\n                                        if(obj.symbol === symbol) { \n                                            total_purchased_price += Number(obj.price_purchased);\n                                        }\n                                    })\n\n                                    return (\n                                        <li className=\"list-group-item bg-transparent text-white border-0\">\n                                            <p className=\"stock_display\">\n                                                {/* <h3 className=\"stock_display\">{company}</h3> &nbsp; */}\n                                                <b><h4><i>{symbol}</i></h4></b> &nbsp;&nbsp;\n                                                x{count} \n                                            </p>\n                                            <Sell before={total_purchased_price} symbol={symbol} shares={count}/>\n                                            <br />\n                                        </li>\n\n                                    )\n                                })\n                            }\n                        </ul>\n                    }\n                </div>\n            </div>\n            \n        )\n    }\n    else \n    {\n        return (\n            <div className=\"profile_page\">\n                <h2>Please login again</h2>\n            </div>\n        )\n    }\n    \n}\n\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}